Title: Config basics

URL Source: http://developers.openai.com/codex/config-basic

Published Time: Fri, 06 Feb 2026 22:19:53 GMT

Markdown Content:
Config basics
===============

[![Image 1: OpenAI Developers](http://developers.openai.com/OpenAI_Developers.svg)](http://developers.openai.com/)

[Resources](http://developers.openai.com/resources)

[Codex](http://developers.openai.com/codex)

[ChatGPT](http://developers.openai.com/chatgpt)

[Apps SDK Build apps to extend ChatGPT](http://developers.openai.com/apps-sdk)[Agentic Commerce Build commerce flows in ChatGPT](http://developers.openai.com/commerce)

[Blog](http://developers.openai.com/blog)

Search the Codex docs
---------------------

 Close 

Primary navigation Resources  Codex  ChatGPT  Blog 

*   [Home](http://developers.openai.com/resources)
*   [Changelog](http://developers.openai.com/changelog)
*   [Docs MCP](http://developers.openai.com/resources/docs-mcp)

### Categories

*   [Code](http://developers.openai.com/resources/code)
*   [Cookbooks](http://developers.openai.com/resources/cookbooks)
*   [Guides](http://developers.openai.com/resources/guides)
*   [Videos](http://developers.openai.com/resources/videos)

### Topics

*   [Agents](http://developers.openai.com/resources/agents)
*   [Audio & Voice](http://developers.openai.com/resources/audio)
*   [Computer use](http://developers.openai.com/resources/cua)
*   [Codex](http://developers.openai.com/resources/codex)
*   [Evals](http://developers.openai.com/resources/evals)
*   [gpt-oss](http://developers.openai.com/resources/gpt-oss)
*   [Fine-tuning](http://developers.openai.com/resources/fine-tuning)
*   [Image generation](http://developers.openai.com/resources/imagegen)
*   [Scaling](http://developers.openai.com/resources/scaling)
*   [Tools](http://developers.openai.com/resources/tools)
*   [Video generation](http://developers.openai.com/resources/videogen)

### Getting Started

*   [Overview](http://developers.openai.com/codex)
*   [Quickstart](http://developers.openai.com/codex/quickstart)
*   [Explore](http://developers.openai.com/codex/explore)
*   [Pricing](http://developers.openai.com/codex/pricing)
*   [Ambassadors](http://developers.openai.com/codex/ambassadors)
*   
Concepts
    *   [Prompting](http://developers.openai.com/codex/prompting)
    *   [Workflows](http://developers.openai.com/codex/workflows)
    *   [Models](http://developers.openai.com/codex/models)

### Using Codex

*   
App
    *   [Overview](http://developers.openai.com/codex/app)
    *   [Features](http://developers.openai.com/codex/app/features)
    *   [Settings](http://developers.openai.com/codex/app/settings)
    *   [Review](http://developers.openai.com/codex/app/review)
    *   [Automations](http://developers.openai.com/codex/app/automations)
    *   [Worktrees](http://developers.openai.com/codex/app/worktrees)
    *   [Local Environments](http://developers.openai.com/codex/app/local-environments)
    *   [Commands](http://developers.openai.com/codex/app/commands)
    *   [Troubleshooting](http://developers.openai.com/codex/app/troubleshooting)

*   
IDE Extension
    *   [Overview](http://developers.openai.com/codex/ide)
    *   [Features](http://developers.openai.com/codex/ide/features)
    *   [Settings](http://developers.openai.com/codex/ide/settings)
    *   [IDE Commands](http://developers.openai.com/codex/ide/commands)
    *   [Slash commands](http://developers.openai.com/codex/ide/slash-commands)

*   
CLI
    *   [Overview](http://developers.openai.com/codex/cli)
    *   [Features](http://developers.openai.com/codex/cli/features)
    *   [Command Line Options](http://developers.openai.com/codex/cli/reference)
    *   [Slash commands](http://developers.openai.com/codex/cli/slash-commands)

*   
Web
    *   [Overview](http://developers.openai.com/codex/cloud)
    *   [Environments](http://developers.openai.com/codex/cloud/environments)
    *   [Internet Access](http://developers.openai.com/codex/cloud/internet-access)

*   
Integrations
    *   [GitHub](http://developers.openai.com/codex/integrations/github)
    *   [Slack](http://developers.openai.com/codex/integrations/slack)
    *   [Linear](http://developers.openai.com/codex/integrations/linear)

### Configuration

*   
Config File
    *   [Config Basics](http://developers.openai.com/codex/config-basic)
    *   [Advanced Config](http://developers.openai.com/codex/config-advanced)
    *   [Config Reference](http://developers.openai.com/codex/config-reference)
    *   [Sample Config](http://developers.openai.com/codex/config-sample)

*   [Rules](http://developers.openai.com/codex/rules)
*   [AGENTS.md](http://developers.openai.com/codex/guides/agents-md)
*   [MCP](http://developers.openai.com/codex/mcp)
*   [Skills](http://developers.openai.com/codex/skills)

### Administration

*   [Authentication](http://developers.openai.com/codex/auth)
*   [Security](http://developers.openai.com/codex/security)
*   
Enterprise
    *   [Admin Setup](http://developers.openai.com/codex/enterprise/admin-setup)
    *   [Governance](http://developers.openai.com/codex/enterprise/governance)

*   [Windows](http://developers.openai.com/codex/windows)

### Automation

*   [Non-interactive Mode](http://developers.openai.com/codex/noninteractive)
*   [Codex SDK](http://developers.openai.com/codex/sdk)
*   [App Server](http://developers.openai.com/codex/app-server)
*   [MCP Server](http://developers.openai.com/codex/guides/agents-sdk)
*   [GitHub Action](http://developers.openai.com/codex/github-action)

### Learn

*   [Videos](http://developers.openai.com/codex/videos)
*   
Blog
    *   [Testing Agent Skills Systematically with Evals](http://developers.openai.com/blog/eval-skills)
    *   [Supercharging Codex with JetBrains MCP at Skyscanner](http://developers.openai.com/blog/skyscanner-codex-jetbrains-mcp)
    *   [View all](http://developers.openai.com/blog/topic/codex)

*   
Cookbooks
    *   [Codex Prompting Guide](http://developers.openai.com/cookbook/examples/gpt-5/codex_prompting_guide)
    *   [Modernizing your Codebase with Codex](http://developers.openai.com/cookbook/examples/codex/code_modernization)
    *   [View all](http://developers.openai.com/cookbook/topic/codex)

*   [Building AI Teams](http://developers.openai.com/codex/guides/build-ai-native-engineering-team)

### Releases

*   [Changelog](http://developers.openai.com/codex/changelog)
*   [Feature Maturity](http://developers.openai.com/codex/feature-maturity)
*   [Open Source](http://developers.openai.com/codex/open-source)

*   [Apps SDK](http://developers.openai.com/apps-sdk)
*   [Agentic Commerce](http://developers.openai.com/commerce)

*   [All posts](http://developers.openai.com/blog)

### Recent

*   [15 lessons learned building ChatGPT Apps](http://developers.openai.com/blog/15-lessons-building-chatgpt-apps)
*   [Testing Agent Skills Systematically with Evals](http://developers.openai.com/blog/eval-skills)
*   [Supercharging Codex with JetBrains MCP at Skyscanner](http://developers.openai.com/blog/skyscanner-codex-jetbrains-mcp)
*   [OpenAI for Developers in 2025](http://developers.openai.com/blog/openai-for-developers-2025)
*   [Updates for developers building with voice](http://developers.openai.com/blog/updates-audio-models)

### Topics

*   [General](http://developers.openai.com/blog/topic/general)
*   [API](http://developers.openai.com/blog/topic/api)
*   [Apps SDK](http://developers.openai.com/blog/topic/apps-sdk)
*   [Audio](http://developers.openai.com/blog/topic/audio)
*   [Codex](http://developers.openai.com/blog/topic/codex)

Search âŒ˜  K 

### Getting Started

*   [Overview](http://developers.openai.com/codex)
*   [Quickstart](http://developers.openai.com/codex/quickstart)
*   [Explore](http://developers.openai.com/codex/explore)
*   [Pricing](http://developers.openai.com/codex/pricing)
*   [Ambassadors](http://developers.openai.com/codex/ambassadors)
*   
Concepts
    *   [Prompting](http://developers.openai.com/codex/prompting)
    *   [Workflows](http://developers.openai.com/codex/workflows)
    *   [Models](http://developers.openai.com/codex/models)

### Using Codex

*   
App
    *   [Overview](http://developers.openai.com/codex/app)
    *   [Features](http://developers.openai.com/codex/app/features)
    *   [Settings](http://developers.openai.com/codex/app/settings)
    *   [Review](http://developers.openai.com/codex/app/review)
    *   [Automations](http://developers.openai.com/codex/app/automations)
    *   [Worktrees](http://developers.openai.com/codex/app/worktrees)
    *   [Local Environments](http://developers.openai.com/codex/app/local-environments)
    *   [Commands](http://developers.openai.com/codex/app/commands)
    *   [Troubleshooting](http://developers.openai.com/codex/app/troubleshooting)

*   
IDE Extension
    *   [Overview](http://developers.openai.com/codex/ide)
    *   [Features](http://developers.openai.com/codex/ide/features)
    *   [Settings](http://developers.openai.com/codex/ide/settings)
    *   [IDE Commands](http://developers.openai.com/codex/ide/commands)
    *   [Slash commands](http://developers.openai.com/codex/ide/slash-commands)

*   
CLI
    *   [Overview](http://developers.openai.com/codex/cli)
    *   [Features](http://developers.openai.com/codex/cli/features)
    *   [Command Line Options](http://developers.openai.com/codex/cli/reference)
    *   [Slash commands](http://developers.openai.com/codex/cli/slash-commands)

*   
Web
    *   [Overview](http://developers.openai.com/codex/cloud)
    *   [Environments](http://developers.openai.com/codex/cloud/environments)
    *   [Internet Access](http://developers.openai.com/codex/cloud/internet-access)

*   
Integrations
    *   [GitHub](http://developers.openai.com/codex/integrations/github)
    *   [Slack](http://developers.openai.com/codex/integrations/slack)
    *   [Linear](http://developers.openai.com/codex/integrations/linear)

### Configuration

*   
Config File
    *   [Config Basics](http://developers.openai.com/codex/config-basic)
    *   [Advanced Config](http://developers.openai.com/codex/config-advanced)
    *   [Config Reference](http://developers.openai.com/codex/config-reference)
    *   [Sample Config](http://developers.openai.com/codex/config-sample)

*   [Rules](http://developers.openai.com/codex/rules)
*   [AGENTS.md](http://developers.openai.com/codex/guides/agents-md)
*   [MCP](http://developers.openai.com/codex/mcp)
*   [Skills](http://developers.openai.com/codex/skills)

### Administration

*   [Authentication](http://developers.openai.com/codex/auth)
*   [Security](http://developers.openai.com/codex/security)
*   
Enterprise
    *   [Admin Setup](http://developers.openai.com/codex/enterprise/admin-setup)
    *   [Governance](http://developers.openai.com/codex/enterprise/governance)

*   [Windows](http://developers.openai.com/codex/windows)

### Automation

*   [Non-interactive Mode](http://developers.openai.com/codex/noninteractive)
*   [Codex SDK](http://developers.openai.com/codex/sdk)
*   [App Server](http://developers.openai.com/codex/app-server)
*   [MCP Server](http://developers.openai.com/codex/guides/agents-sdk)
*   [GitHub Action](http://developers.openai.com/codex/github-action)

### Learn

*   [Videos](http://developers.openai.com/codex/videos)
*   
Blog
    *   [Testing Agent Skills Systematically with Evals](http://developers.openai.com/blog/eval-skills)
    *   [Supercharging Codex with JetBrains MCP at Skyscanner](http://developers.openai.com/blog/skyscanner-codex-jetbrains-mcp)
    *   [View all](http://developers.openai.com/blog/topic/codex)

*   
Cookbooks
    *   [Codex Prompting Guide](http://developers.openai.com/cookbook/examples/gpt-5/codex_prompting_guide)
    *   [Modernizing your Codebase with Codex](http://developers.openai.com/cookbook/examples/codex/code_modernization)
    *   [View all](http://developers.openai.com/cookbook/topic/codex)

*   [Building AI Teams](http://developers.openai.com/codex/guides/build-ai-native-engineering-team)

### Releases

*   [Changelog](http://developers.openai.com/codex/changelog)
*   [Feature Maturity](http://developers.openai.com/codex/feature-maturity)
*   [Open Source](http://developers.openai.com/codex/open-source)

Copy Page More page actions

Copy Page More page actions

Config basics
=============

Learn the basics of configuring your local Codex client

Codex reads configuration details from more than one location. Your personal defaults live in `~/.codex/config.toml`, and you can add project overrides with `.codex/config.toml` files. For security, Codex loads project config files only when you trust the project.

Codex configuration file
------------------------

Codex stores user-level configuration at `~/.codex/config.toml`. To scope settings to a specific project or subfolder, add a `.codex/config.toml` file in your repo.

To open the configuration file from the Codex IDE extension, select the gear icon in the top-right corner, then select **Codex Settings > Open config.toml**.

The CLI and IDE extension share the same configuration layers. You can use them to:

*   Set the default model and provider.
*   Configure [approval policies and sandbox settings](http://developers.openai.com/codex/security).
*   Configure [MCP servers](http://developers.openai.com/codex/mcp).

Configuration precedence
------------------------

Codex resolves values in this order (highest precedence first):

1.   CLI flags and `--config` overrides
2.   [Profile](http://developers.openai.com/codex/config-advanced#profiles) values (from `--profile <name>`)
3.   Project config files: `.codex/config.toml`, ordered from the project root down to your current working directory (closest wins; trusted projects only)
4.   User config: `~/.codex/config.toml`
5.   System config (if present): `/etc/codex/config.toml` on Unix
6.   Built-in defaults

Use that precedence to set shared defaults at the top level and keep profiles focused on the values that differ.

If you mark a project as untrusted, Codex skips project-scoped `.codex/` layers (including `.codex/config.toml`) and falls back to user, system, and built-in defaults.

For one-off overrides via `-c`/`--config` (including TOML quoting rules), see [Advanced Config](http://developers.openai.com/codex/config-advanced#one-off-overrides-from-the-cli).

On managed machines, your organization may also enforce constraints via `requirements.toml` (for example, disallowing `approval_policy = "never"` or `sandbox_mode = "danger-full-access"`). See [Security](http://developers.openai.com/codex/security).

Common configuration options
----------------------------

Here are a few options people change most often:

#### Default model

Choose the model Codex uses by default in the CLI and IDE.

`model = "gpt-5.2"`
#### Approval prompts

Control when Codex pauses to ask before running generated commands.

`approval_policy = "on-request"`
#### Sandbox level

Adjust how much filesystem and network access Codex has while executing commands.

`sandbox_mode = "workspace-write"`
#### Web search mode

Codex enables web search by default for local tasks and serves results from a web search cache. The cache is an OpenAI-maintained index of web results, so cached mode returns pre-indexed results instead of fetching live pages. This reduces exposure to prompt injection from arbitrary live content, but you should still treat web results as untrusted. If you are using `--yolo` or another [full access sandbox setting](http://developers.openai.com/codex/security), web search defaults to live results. Choose a mode with `web_search`:

*   `"cached"` (default) serves results from the web search cache.
*   `"live"` fetches the most recent data from the web (same as `--search`).
*   `"disabled"` turns off the web search tool.

```
web_search = "cached"  # default; serves results from the web search cache
# web_search = "live"  # fetch the most recent data from the web (same as --search)
# web_search = "disabled"
```

#### Reasoning effort

Tune how much reasoning effort the model applies when supported.

`model_reasoning_effort = "high"`
#### Communication style (experimental)

Set a default communication style for supported models.

`model_personality = "friendly" # or "pragmatic" or "none"`
You can override this later in an active session with `/personality` or per thread/turn when using the app-server APIs.

#### Command environment

Control which environment variables Codex forwards to spawned commands.

```
[shell_environment_policy]
include_only = ["PATH", "HOME"]
```

Feature flags
-------------

Use the `[features]` table in `config.toml` to toggle optional and experimental capabilities.

```
[features]
shell_snapshot = true           # Speed up repeated commands
```

### Supported features

| Key | Default | Maturity | Description |
| --- | --- | --- | --- |
| `apply_patch_freeform` | false | Experimental | Include the freeform `apply_patch` tool |
| `elevated_windows_sandbox` | false | Experimental | Use the elevated Windows sandbox pipeline |
| `exec_policy` | true | Experimental | Enforce rules checks for `shell`/`unified_exec` |
| `experimental_windows_sandbox` | false | Experimental | Use the Windows restricted-token sandbox |
| `remote_compaction` | true | Experimental | Enable remote compaction (ChatGPT auth only) |
| `remote_models` | false | Experimental | Refresh remote model list before showing readiness |
| `request_rule` | true | Stable | Enable Smart approvals (`prefix_rule` suggestions) |
| `shell_snapshot` | false | Beta | Snapshot your shell environment to speed up repeated commands |
| `shell_tool` | true | Stable | Enable the default `shell` tool |
| `unified_exec` | false | Beta | Use the unified PTY-backed exec tool |
| `undo` | true | Stable | Enable undo via per-turn git ghost snapshots |
| `web_search` | true | Deprecated | Legacy toggle; prefer the top-level `web_search` setting |
| `web_search_cached` | true | Deprecated | Legacy toggle that maps to `web_search = "cached"` when unset |
| `web_search_request` | true | Deprecated | Legacy toggle that maps to `web_search = "live"` when unset |

The Maturity column uses feature maturity labels such as Experimental, Beta, and Stable. See [Feature Maturity](http://developers.openai.com/codex/feature-maturity) for how to interpret these labels.

Omit feature keys to keep their defaults.

### Enabling features

*   In `config.toml`, add `feature_name = true` under `[features]`.
*   From the CLI, run `codex --enable feature_name`.
*   To enable more than one feature, run `codex --enable feature_a --enable feature_b`.
*   To disable a feature, set the key to `false` in `config.toml`.
